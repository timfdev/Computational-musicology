---
title: "Portofolio computational musicology"
author: "Tim Frohlich"
date: "2/15/2021"
output: 
  flexdashboard::flex_dashboard:
    storyboard: true
    theme: yeti
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(spotifyr)
library(usethis)
library(flexdashboard)
library(plotly)
```


Introduction
=====================================
My corpus will be containing several albums of Mac Miller which should be around 100 tracks. What is interesting about this corpus is that his music evolved a lot from his first album to his last. Over time he opens up more and his music changes with him. At the start of his career he creates happy and typical party rap tracks, over time this changes to more serious topics like depression(his last album before his death). At some point he also starts singing more and produces more jazz-like tracks.

My plan is to make a timeline of his musical career and analyze how it progressed over the years. Mac miller was struggling with mental issues leading up to his death. Does this show in his music? I will be looking at valence, energy and danceability to classify his albums from sad to happy and observe how his music changed.

A few typical tracks out of the corpus: Album Swimming (Addiction and depression, sad tone) 2018

    Self care (He raps about losing his mind here)
    Coming back to earth (Addiction)

Album the divine Feminine(Love, happy/relaxed tone with more singing) 2016

    We

Mixtape Macadelic (Album after his flop, Blue slide park, optimistic/hopeful tone) 2012

    Thoughts from a balcony

Album Kids (Smoking and partying, relaxed/happy tone) 2010

    Nikes on my feet
    Kool aid and frozen pizza test

Visualisation
=====================================
```{r Plot, echo=FALSE}
  #Swimming
  Album1 <- get_playlist_audio_features("", "0LGaHnLkACbfrYgJ3XhRHV")
  #Macadelic
  Album2 <-get_playlist_audio_features("","2mJAUGPJcHA1sECMk76t7E")
  #KIDS
  Album3 <-get_playlist_audio_features("","3pfk7ZDZl6tfM2qsRGVMwR")
  #BlueSlidePark
  Album4 <-get_playlist_audio_features("","60IqtQHpL2eUT3IBogE1P5")
  #WatchingMoviesWithTheSoundOff
  Album5 <-get_playlist_audio_features("","74i9nnlnlSbBhVHtd5QDdI")
  #GO:ODAM
  Album6 <-get_playlist_audio_features("","3g8zMdBWNb3UdqfKbwyk3l")
  #DivineFeminime
  Album7 <-get_playlist_audio_features("","1pY5IqIUpYKjXz2VsHG00u")
  #Circles
  Album8 <-get_playlist_audio_features("","3TNIaVgNKhkIXWOyze0fvf")
```



### Plot1
```{r echo=FALSE, fig.width=10}
 all_albums <- Album1 %>%
  mutate(album_name="Swimming") %>%
  bind_rows(Album2 %>% mutate(album_name="Macadelic")) %>%
  bind_rows(Album3 %>% mutate(album_name="KIDS")) %>%
  bind_rows(Album4 %>% mutate(album_name="BlueSlidePark")) %>%
  bind_rows(Album5 %>% mutate(album_name="WatchingMovies\nWithTheSoundOff")) %>%
  bind_rows(Album6 %>% mutate(album_name="GO:ODAM")) %>%
  bind_rows(Album7 %>% mutate(album_name="DivineFeminime")) %>%
  bind_rows(Album8 %>% mutate(album_name="Circles")) %>%
  mutate(album_name = fct_relevel(album_name, "KIDS", "BlueSlidePark",
                           "Macadelic", "WatchingMovies\nWithTheSoundOff",
                           "GO:ODAM", "DivineFeminime", "Swimming", "Circles"))

ggplot(all_albums, aes(x=album_name, y=valence, color=album_name)) +
  geom_boxplot() +
  labs(title="The valence distribution of every album",
       x="Albums", y= "Valence")

```


### Plot2
```{r echo=FALSE, fig.width=10}
ggplot(all_albums, aes(x=danceability, y=energy, color=album_name)) +
  geom_point() +
  labs(title="The valence distribution of every album",
       x="Danceability", y= "Energy")
```



Discussion
=====================================

